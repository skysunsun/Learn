## 一个三角形， 三个端点上有三只蚂蚁，蚂蚁可以绕任意边走，问蚂蚁不相撞的概率是多少

首先，每个蚂蚁在方向的选择上有且只有 2 种可能，共有 3 只蚂蚁，所以共有 2 的 3 次方种可能，而不相撞有 2 种可能，即全为顺时针方向或全为逆时针方向。

不相撞概率 = 不相撞 / 全部 = 2/8 = 1/4。


## 一根木棒，截成三截，组成三角形的概率是多少？

设第一段截 x，第二段截 y，第三段 1 - x - y。

考虑所有可能的截法。可能的截法中必须保证三条边都是正数且小于原来边长，则有 
0 < x < 1
0 < y < 1
0 < 1 - x - y < 1

画图可知，(x, y) 必须在单位正方形的左下角的半个直角三角形里，面积为 1 / 2。


然后必须符合三角形的边的要求，即两边之和大于第三边：

x + y > 1 - x - y

x + 1 - x - y > y

y + 1 - x - y > x

化简即得：

0 < x < 1/2

0 < y < 1/2

1/2 < x + y < 1

画图可知，此时 (x, y) 必须在边长为 1/2 的三角形的右上角的半个直角三角形里，面积为 1/8。于是最终概率为 (1/8) / (1/2) = 1/4。

## 有一苹果，两个人抛硬币来决定谁吃这个苹果，先抛到正面者吃。问先抛这吃到苹果的概率是多少？

设先抛先吃的概率为$p_1$， 后抛先吃的概率为$p_2$
那么有：
$$
p_1 = \frac{1}{2} + \frac{1}{2} \times p_2\\
p_1 + p_2 = 1$$
解方程可得

$$p_1 = \frac{2}{3}$$


## a b c 分别循环投掷硬币，直到正面出现胜利，求a b c获胜的概率

$$P(B) = \frac{1}{2} \times P(A)\\
P(C) = \frac{1}{4} \times P(A)\\
P(A) + P(B) + P(C) = 1
$$
得

$$P(A) = \frac{4}{7},  P(B) =\frac{2}{7}, P(C) =\frac{1}{7}$$


## 硬币正反概率是1/2,一直抛硬币,直到连续两次正面停止，问期望次数。

设期望为$E$

当开局抛到两次正面时，$0.5\times0.5\times2$

当开局抛到了反面时，需要重新抛，此时的期望分量时：$0.5\times (E+1)$

当开局抛到了正面，但是紧接着抛到了反面，此时有需要重新抛，期望分量为：$0.5\times0.5\times(E+2)$

所以有：
$$
E = 0.5 \times 0.5 \times 2 + 0.5 \times(E + 1) + 0.5 \times 0.5 \times(E+2)
$$
求解$E=6$

## 抛一个六面的色子，连续抛直到抛到6为止，问期望的抛的次数是多少?

因为每次抛到6的概率相等，都是1/6，于是期望的次数就是1/(1/6)=6次。

假设期望的次数为E。考虑第一次抛，如果已经抛到6了（概率为1/6），那么就不用再抛了。如果没抛到6（概率为5/6），那么还需要继续抛，可是还要抛多少次呢？显然，现在开始知道抛到6的次数仍然是E，但是刚刚已经抛了一次了于是可以得到这个等式

$$E = 1 \times \frac{1}{6} + (1 + E) \times \frac{5}{6}$$

解得 $E = 6$。即期望的次数为6次。


## 商家发明一种扔筛子游戏，顾客扔到多少点就得到多少钱，但扔筛子之前顾客需要付一定数量的钱 x，假设商家和顾客都足够聪明

1. 顾客付一次钱可以扔一次的情况下，顾客能接受的最大 x 是多少

可以直接算顾客收益的期望为 1/6 (1 + 2 + 3 + 4 + 5 + 6) = 3.5，顾客能接受的最大 x 就是他收益的期望值。

2. 现在规则改为顾客付一次钱可以扔两次，顾客扔了第一次之后可以选择是否继续扔第二次，如果扔了第二次则以第二次的结果为准，如果没有扔第二次就以第一次的结果为准，这时顾客能接受的最大 x 为多少。


考虑顾客什么情况下会扔第二次，就是扔第二次得到钱变多的概率相对较大的时候，那么当顾客第一次扔到 1，2，3 的时候他会选择继续扔第二次，则这时候期望变为 1/6 (4 + 5 + 6) + 1/2 (1/6 (1 + 2 + 3 + 4 + 5 + 6)) = 4.25

## 已知一随机发生器，产生 0 的概率是 p，产生 1 的概率是 1-p，现在要你构造一个发生器，使得它产生 0 和 1 的概率均为 1/2（随机数生成）

0 : p 

1 : 1 - p

连续产生两个数，其组合以及概率如下：

00 : pp

01 : p(1 - p) 

10 : (1 - p) p 

11 : (1 - p)(1 - p)

可以发现 01 和 10 组合的概率是相等的，只需要将其分别映射到 0 和 1 即可。

即每次随机产生两个数，如果组合为00或11则丢弃，若为 01 则映射到 1，若为 10 则映射到 0，这样一来产生 0 和 1 的概率均为 1 / 2 。


## 已知一随机发生器，产生的数字的分布不清楚，现在要你构造一个发生器，使得它产生 0 和 1 的概率均为 1/2（随机数生成）

使用该随机发生器产生随机数 a，b，有以下 3 种情况：

1. a < b
2. a == b
3. a > b

其中情况（1）和（3）是对称的，发生的概率相等，只需要将这两种情况分别映射到 0 和 1 即可，其中遇到 a == b 时忽略。


## 已知一随机发生器，产生0的概率是 p，产生1的概率是 1-p，构造一个发生器，使得它构造 1、2、3 的概率均为 1/3; 更一般地，构造一个发生器，使得它构造 1、2、3、…n 的概率均为 1/n。

**要从n 个数中等概率地产生一个随机数，关键是要找到 n 个或更多个出现概率相等的事件，然后我们重复随机地产生事件，如果是跟这 n 个事件不同的事件直接忽略，直到产生这 n 个事件中的一个，然后就产生跟这个事件匹配的随机数。**

由于 n 个事件发生的概率相等，于是产生的随机数的概率也是相等的。考虑连续产生 x 个随机数，结果应该是 x 个0跟1的组合，为了使某些结果出现的概率相等，我们应该要让这个结果中0和1出现的次数相等，即各占一半。于是 x 的长度必须是偶数的，为了方便，考虑连续产生 2x 个随机数。每
x 个0跟1各出现一半的结果可以赋予1到n的某个数，为了能够表示这n个数，需要0跟1各出现一半的总结个数大于等于n，即$C_{2x}^{x} >= n$解出最小的 x 即为效率最高的 x。
然后把前 n 个0和1个出现一半的结果分别赋予1到n的值。随机时连续产生$2 \times x$个数，如果不是这n个结果中的一个则重新随机，如果是的话则产生对应的值作为随机结果。

## 有一个随机数生成器，不断生成 [0,1] 的浮点数 n 次，把这 n 个数放入到一个数组中，但是这个数组里面的值你都看不到是个黑箱，要求用概率的角度分析出第 k 小的数是什么？

不妨考虑引入第 n+1 个随机变量，由于分布是均匀的，且取值是[0,1]，所以可以认为第 k 小的变量的期望等于第 n+1 个变量小于等于第 k 小的变量的概率。
那么问题就变为了如何求这个概率，从统计方案数出发。
它们的大小关系一共有 (n+1)! 种，而 n+1 个变量小于等于第 k 个变量的方案数一共有 k×n!，因为第 n+1 个变量一共有 k 个位置可以插入。所以概率为 k/(n+1)，也就是第 k 小的期望。


## 已知有个 rand7() 的函数，返回 1 到 7 随机自然数，怎样利用这个 rand7() 构造 rand10()，随机 1 ~ 10

产生随机数的主要原则是每个数出现的概率是相等的，如果可以得到一组等概率出现的数字，那么就可以从中找到映射为 1 到 10 的方法。

rand7() 返回 1 ~ 7 的自然数，构造新的函数 (rand7() - 1) * 7 + rand7()，这个函数会随机产生 1 到 49 的自然数。

原因是 1 到 49 中的每个数只有唯一的第一个 rand7() 的值和第二个 rand7() 的值表示，于是它们出现的概率是相等。

但是这里的数字太多，可以丢弃 41 到 49 的数字，把 1 到 40 的数字分成 10 组，每组映射成 1 到 10 中的一个，于是可以得到随机的结果。

具体方法是，利用 (rand7() - 1) * 7 + rand7() 产生随机数 x，如果大于 40 则继续随机直到小于等于 40 为止，如果小于等于 40，则产生的随机数为 (x - 1) / 4 + 1。


## 已知一个函数random()，可以返回1到n是随机值，设法利用它他构造一个random2()，使得random2()可以返回1到m的随机值。
使用笛卡尔积，构造$(n \times n)$个随机元素，所以这些元素产生的概率都$\frac{1}{n\times n}$。

## 如何在半径为1的圆中随机选取一点？

在x=[−1,1]和y=[−1,1]围成的正方形中随机取一点，若落在圆内则为所求的点；若不在圆内，则重新随机直到选到了为止。


## 一个木桶里面有 $m$ 个白球，每分钟从桶中随机取出一个球涂成红色（无论白或红都涂红）再放回，问将桶中球全部涂红的期望时间是多少？

令桶中有 $i$ 个红球后再把全部球涂红的期望时间为 $a[i]$，此时再取出一个球，如果是红色的（概率为 $\frac{i}{m}$ ），则直接放回，且剩余的期望时间仍是 $a[i]$。
如果是白色的（概率为$ 1-\frac{i}{m}$），则涂红后放回，剩余的期望时间为$a[i+1]$，则

$$a[i] = (1 + a[i]) * \frac{i}{m} + (1 + a[i+1]) * (1 – \frac{i}{m})$$
即 　　
$$a[i] = a[i+1] + \frac{m}{m-i}$$
显然，有$a[m] = 0$可以解得 
$$a[0] = \frac{m}{m} + \frac{m}{m-1} + … + \frac{m}{1} + 0$$

## 你有一把宝剑。每使用一个宝石，有 50% 的概率会成功让宝剑升一级，50% 的概率会失败。如果宝剑的级数大于等于5的话，那么失败会使得宝剑降1级。如果宝剑的级数小于5的话，失败没有效果。问题是：期望用多少个宝石可以让一把1级的宝剑升到9级？

用 $a[i]$ 表示从第 $i-1$ 级升到第 $i$ 级期望使用的宝石数量。
- 当 $i<=5$ 时，因为不会降级，则期望的数量均为 2，即 $a[2] = a[3] = a[4] = a[5] = 2$
- 当 $i>5$ 时，因为会降级，成功时一个宝石就够了，不成功时需要倒退一级，需要先使用 $a[i-1]$个宝石先回到 $i-1$ 级，再使用 $a[i]$ 个宝石升到第$i$级，即$ a[i] = 1 * 1/2 + (1 + a[i-1] + a[i]) * 1/2$ 即$a[i] = a[i-1] + 2$ 可知，$a[6]= 4, a[7] = 6, a[8] = 8, a[9] = 10$则1级到9级需要的宝石数为 $a[2]+…+a[9] = 36$。

## 平均要取多少个(0,1)中的随机数才能让和超过 1

e 次， 其中 e 是自然对数的底


## 给出从 $n$ 个数中随机选择 $m$ 个的方法。注意，$n$ 非常大，并且一开始不知道其具体值。数字流式给出，当给完之后，你必须立刻给出随机的结果。
首先前 $m$ 个数字是必须拿的。
第 $i$ 个数到来的时候，以 $\frac{m}{i}$ 的概率决定是否要选择这个数字。如果选择了这个数字，则随机地替换掉 $m$ 个数字中的一个。
如果前 $i-1$ 个数字的时候保证了每个数字被选取的概率相等，则这样做之后可以保证每个数字被选取的概率也相等，为 $\frac{m}{i}$。
第 $i$ 个数选择的概率是$\frac{m}{i}$，因为算法就是这样决定的。
考虑前 $i-1$ 个数字中的任意一个，它在第 $i$ 个数之前被选择的概率是$\frac{m}{i-1}$。在第 $i$ 个数字的时候，这个数字要被选择的话又两种可能，一是第 $i$ 个数没有被选中（概率是$1-\frac{m}{i}$），二是第 $i$ 个数倍选中了（概率是$\frac{m}{i}$）但是替换掉的数字不是它（概率是$1-\frac{1}{m}$），于是这个数在第 $i$ 个数时仍然被选择的概率是
 $$\frac{m}{i-1}((1-\frac{m}{i}) + (\frac{m}{i} * (1-\frac{2}{m}))) = \frac{m}{i-1} * (\frac{i-1}{i}) = \frac{m}{i}$$
由数学归纳法原理知，对于任意的 n，当给完 n 个数的时候，选择的结果可以保证这 n 个数中每个被选中的概率都是相等。
##  一个活动，女生们手里都拿着长短不一的玫瑰花，无序地排成一排，一个男生从队头走到队尾，试图拿到尽可能长的玫瑰花，规则是:一旦他拿了一朵，后面就不能再拿了，如果错过了某朵花，就不能再回头，问最好的策略是什么?
从数学模型上说，就是先拒掉前面 k 个人，不管这些玫瑰花有多长；然后从第 k+1 个人开始，一旦看到比之前所有花都要长，就毫不犹豫地选择。
不难看出，k 的取值很讲究，太小了达不到试的效果，太大了又会导致真正可选的余地不多了。
这就变成了一个纯数学问题：在玫瑰花总数 n 已知的情况下，当 k 等于何值时，按上述策略选中最长玫瑰花的概率最大？如何求出最优的 k 值？
对于某个固定的 k，如果最长的玫瑰花出现在了第 i 个位置（k < i ≤ n），要想让它被选中，就必须得满足前 i-1 个人中的最好的人在前 k 个人里，这有 k/(i-1) 的可能。考虑所有可能的 i，我们便得到了试探前 k 个女生之后能选中最佳女生的总概率 P(k)：
$$P(k)=\sum_{i=k+1}^{n} \frac{1}{n} \cdot \frac{k}{i-1}=\frac{k}{n} \sum_{i=k+1}^{n} \frac{1}{i-1}$$

用 x 来表示 k/n 的值，并且假设 n 充分大，则上述公式可以写成：
$$P(x)=x \cdot \int_{x}^{1} \frac{1}{t} d t=-x \cdot \ln x$$
对 -x · ln x 求导，并令这个导数为 0，可以解出 x 的最优值1/e

[参考](https://www.jianshu.com/p/83147d263ad1)

## 一副扑克牌54张，现分成3等份每份18张，问大小王出现在同一份中的概率是多少？

**法一：**
54张牌分成3等份，共有$M=C_{54}^{18}*C_{36}^{18}*C_{18}^{18}$种分法。

其中大小王在同一份的分法有$N=C_3^1*C_{52}^{16}*C_{36}^{18}*C_{18}^{18}$种。

因此所求概率为$P=\frac{N}{M}=\frac{17}{53}$

**法二：**
不妨记三份为A、B、C份。大小王之一肯定在某一份中，不妨假定在A份中，概率为 $\frac{1}{3}$。然后A份只有17张牌中可能含有另一张王，而B份、C份则各有18张牌可能含有另一张王，因此A份中含有另一张王的概率是$\frac{17}{17+18+18}=\frac{17}{53}$
A份中同时含有大小王的概率为$\frac{1}{3} * \frac{17}{53}$
则出现在同一份中的概率，因此所求概率为$3*\frac{1}{3} * \frac{17}{53}=\frac{17}{53}$

## 54张牌，分成6份，每份9张牌，大小王在一起的概率

$$\frac{C_6^1 C_2^2 C_{52}^{7} C_{45}^{9}C_{36}^{9}C_{9}^{9}}{C_{54}^{9}C_{45}^{9}C_{9}^{9}} = \frac{8}{53}$$

## 去掉大小王的52张扑克牌，随机分成两堆26张。求其中一堆集齐4张A的概率

固定梅花A的位置，方片A有51个位置可以选择，其中有25个与梅花A在一堆。

在梅花A和方片A在一堆的条件下，红桃A有50个位置可以选择，其中有24个与梅花A和方片A在一堆。

在梅花A和方片A和红桃A在一堆的条件下，黑桃A有49个位置可以选择，其中有23个与梅花A和方片A和红桃A在一堆。

因此，概率为
$$\frac{25}{51} \times \frac{24}{50} \times \frac{23}{49}$$


## 54张扑克牌，除去两张大小王剩下52张扑克牌。问红桃A和黑桃A同时被一个人拿到的概率是多少？


一个人拿到的概率是3/51，
四个人拿到的概率是3/51*4=12/51


$$\frac{C_4^1*C_{50}^{11}*C_{39}^{13}*C_{26}^{13}}{C_{52}^{13}*C_{39}^{13}*C_{26}^{13}}\\
= 4*\frac{C_{50}^{11}}{C_{52}^{13}} \\
= 4*\frac{50!/11!/39!}{52!/13!/39!}\\
= \frac{4*13*12}{51*52}  \\
= \frac{12}{51}$$

##  从一副52张扑克牌中随机抽两张，求颜色相等的概率

$$\frac{2 \times 26 \times 25}{52 \times 51}=\frac{25}{51}$$



## 你有两个罐子以及50个红色弹球和50个蓝色弹球，随机选出一个罐子然后从里面随机选出一个弹球，怎么给出红色弹球最大的选中机会?在你的计划里，得到红球的几率是多少? 

一个罐子：1个红球另一个罐子：49个红球，50个篮球几率=1/2+(49/99)*(1/2)=74.7%

## 给你一个数组，设计一个既高效又公平的方法随机打乱这个数组（此题和洗牌算法的思想一致）

方法比较简单，基本思想是每次随机取一个数，然后把它交换到最后的位置。然后对前（n-1）个数使用递归的算法

```python
def suffle(arr, n):
    while n>1:
        arr[n-1],arr[rand()%n]=arr[rand()%n],arr[n-1]
        n-=1
```

## 10个人出去玩，集合时间有10分钟，每个人都在该时间内到达，概率均匀分布，彼此独立，那么最后一个人最有可能到达的时间是?



可以这样想， 假设最后一个人9--10之间到达， 其他人的到达时间其实随便都可以，这样其他9个人的时间取法情况最多， 概率很大。
往另一个极端想，  假设最后一个人0--1之间到达， 其他人的到达时间要小于他， 因为他是最后一个， 这时其他9个人的时间取法情况最少， 概率很小。

## 100个人排队，每个人只能看到自己之前的人的帽子的颜色（假设只有黑白两色），每个人都得猜自己帽子的颜色，只能说一次，说错就死掉，别人可以听到之前的人的答案以及是否死掉。请问用什么策略说死掉的人最少。

最少能活99个人。
最后一个人可以看到前面全部的信息，从最后一个人开始，若前面为**奇黑偶白**则报黑（自己有一半的存活概率），若前面**偶黑奇白**则报白（自己有一半的存活概率）；
对于倒数第2人来说，以最后1个人报黑为例，若看到**奇黑奇白**则自己一定为白也报白，若看到**偶黑偶白**则自己一定为黑也报黑；如此下去。


## 买饮料，三个瓶盖可以换一瓶，请问要买100瓶饮料，最少需要买多少瓶？

100个人，3人做一组，共33组，余1人，也即100/3=33, 100%3==1，3瓶水换一瓶，也即一组需要买两瓶（需要有一个作为启动），所以结论很明显了，100/3*2+1=67

## 在一条高速公路上，在30分钟内看到一辆汽车的可能性是0.95，那么在10分钟内看到一辆车的概率是多少?（假设过车的概率是恒定的）

设10分钟内没有看到一辆车开过的几率为 X ；则30分钟内没有看到一辆车开过的几率为 $X^3$；所以 $1-X^3=0.95$ ；求得 $X=36.84%$ ； 故最终答案为  $1-X=63.16%$

## 某段公路上1小时有车通过的概率是0.96，半小时有车通过的概率是多少

反过来想，设半个小时有车经过的概率是p，那么一个小时内没有车经过的概率为$(1-p)^2$,那么一个小时内有车经过的概率为$1-(1-p)^2 = 0.96$， p=0.8

## 一个公交站在1分钟内有车经过概率是p，问3分钟内有车经过概率

$$1-(1-p)^3$$

## 一个桶里面有白球、黑球各100个，现在按下述规则取球：
1. 每次从桶里面拿出来两个球；
2. 如果取出的是两个同色的求，就再放入一个黑球；
3. 如果取出的是两个异色的求，就再放入一个白球。

问：最后桶里面只剩下一个黑球的概率是多少？

黑球=0，白球=1，那么题目描述的就是数组内部的亦或运算，结果为0，也就是说只剩下一个黑球的概率是100%。

## 假如草地上有一群兔子，数量无穷多，但是体重不相同。我们从中选出10只兔子，记其中的最重的兔子的重量为A, 然后再从剩余的兔子中选注20只，记其中的最重的兔子的重量为B, 问A大于B的概率是多少？

兔子无限多，随便取三十只。前十只当做是第一次取的，剩下的是第二次取的。面试官的问题等价于**最重的那只在前十只的概率是多少**，如果体重分布随机，显而易见答案是1/3。



## 史密斯夫妇邀请另外四对夫妇就餐，已知他们每个人都不和自己握手、不和自己的配偶握手、且不和同一个人握手一次以上。在大家见面握手寒暄后，史密斯问大家握手了几次，每个人的答案都不一样。问：史密斯太太握手几次？

1. 总共10个人，每个人不与自己握手，不与配偶握手，不与同一个人握超过一次手，所以每个人最多握8次手，最少0次； 
2. 史密斯问其它9个人握了几次手，各人回答不一样，所以每个人的握手次数刚好为0-8次，每种不同次数有1个人； 
3. 有且只有一个人握了8次手，称之为A，即A与其配偶以外的所有人都握了手； 
4. 记A的配偶为a，除了A夫妇以外，所有人都至少握了1次手(和A)，所以握手0次的肯定是a； 
5. 从10个人中去掉A夫妇，因为A与其余每个人握了1次手，而a没有与别人握手，所以去掉A夫妇后，其它人的握手次数为1-7(不算史密斯)，再去掉他们各自与A握的那次手不算，则各人的握手次数为0-6，还是每种不同次数刚好有1个人； 
6. 重复第3-5步4次，直到去掉4对夫妇，最终剩下史密斯夫妇，这时史密斯太太的握手次数为0，加上4次循环中去掉的4次握手，她总共握了4次手，与每对夫妇中的某一位各握了一次。


## 一对夫妇，邀请N-1对夫妇参加晚会。夫妇之间，丈夫肯定认识妻子。每个人和自己不认识的人都要握手一次。握手完了之后，男主人站出来问了其他所有人的握手情况。发现，任何一个人的握手情况都和别人不相同。问你，女主人握了几次手

N-1次

## A城一个商人有一头驴子和3000根胡萝卜.要将萝卜拉到1000公里外的B城去卖，只能用驴子驮。已知驴子一次性可驮1000根胡萝卜,但每走一公里要吃掉一根胡萝卜.问商人共可卖出多少胡萝卜?

1. 因为有3000萝卜，所以消耗掉前面的1000个萝卜的时候，每前进一公里要来回3次消耗3个萝卜，因此第一次前进了X公里，X=1000/3=333余数为1；
2. 剩下的2001个萝卜在第334公里的时候需要来回3次才能运送完，我们就将这一公里路算在2000个萝卜在第一次运送的时候算在一起，那么第二次运送萝卜只需要来回2次消耗2个萝卜，因此第二次消耗1000个萝卜前进了Y公里，Y=1000/2=500；现在前进了500+333=833公里，剩下167公里后，萝卜也只剩下了1000个，所以就这1000个直接中途不卸货的一次到达B城，消耗167个萝卜，所以最后剩下1000-167=833个萝卜。


## 甲乙两个人答对一道题的概率分别为90%和80%，对于一道判断题，他们都选择了“正确”，问这道题正确的概率?

两种情况，甲乙都是对的（那题目就是正确的），或者甲乙都是错的，那就是$\frac{0.8 \times 0.9}{0.8 \times 0.9+0.1 \times 0.2} = \frac{36}{37}$

## 飞机上有100个座位，按顺序从1到100编号。有100个乘客，他们分别拿到了从1号到100号的座位，他们按号码顺序登机并应当对号入座，如果他们发现对应号座位被别人坐了，他会在剩下空的座位随便挑一个坐。现在假如1号乘客疯了 -_-! (其他人没疯)，他会在100个座位中随机坐一个座位。那么第100人正确坐自己座位的概率是多少？


可以看到，因为除了1号之外，所有的乘客都会对号入座，所以将对号入座的都去除，最后剩下1号，x号和100号。x号为1号所占位置。
1号还有可能占的是自己的位置或者100号的位置，此时就没有x什么事情，x还是坐x号位置。但是这个情况在上面也是涵盖的。
所以最终对1，x，100进行全排列，得到

1     x   100

100   x   1

x     1   100

100   1   x

1    100  x

x    100  1

但是，对于最后两个组合，如果1号坐了自己的位置，那么x肯定坐自己的位置，100也肯定坐自己的位置。所以1  100  x不会发生。
1号如果坐100号的位置，那x肯定坐自己的位置，100坐1号的位置，所以x  100  1也不会发生。
所以最后的概率为50%


## 两个信封，一封里装的钱是另一封里的两倍，你选了一个打开一看，里面是十块钱，这个时候你可以选择换成另一个，问你该不该换？

第一印象肯定是换不换无所谓，因为貌似二者不相关。
但是随后又会想到，另一个信封有一半可能是五块，一半可能是二十块，期望值会是1/2(5+20) = 12.5，当然应该换。

## 一个口袋内有10个红球，20个黄球，30个蓝球，随机地把球一个一个取出来，请问红球最先被取完的概率？


分3种情况：

1. 红球为最后一个球：p=1/6

2. 黄球为最后一个球：p=1/3

3. 蓝球为最后一个球：p=1/2。

考虑情况1。红球不可能最先取完，条件概率0

考虑情况2。排除黄球，只考虑了红球，蓝球，那么蓝球最后一个球的条件概率为3/4

情况3类似2.

P = 1/6 * 0 + 1/3 * 3/4 + 1/2 * 2/3 = 7/12

## 三人陪审团，其中两人每人做出正确决定的概率是Ｐ。另一人总是靠扔硬币来决定支持谁。最后由多数票决定结果。另一个审判由一人决定，这个人做出正确决定的概率也是Ｐ。问三人陪审团与一人审判谁有更大概率做出正确决定？

一样大，概率都是p,因为三人陪审团的话，正确的概率是$p\times(1-p)\times 0.5+p\times (1-p)\times 0.5+p\times p\times 0.5+p\times p\times 0.5=p$


## 假设你参加了一个游戏节目，现在要从三个密封的箱子中选择一个。其中两个箱子是空的，另一个箱子里面有大奖(你偶像的签名^^)。你并不知道奖在哪一个箱子里，但主持人知道。游戏节目的主持人先要你选择一个箱子，接着他把你没有选的空箱子打开，以证明它是空的。最后主持人给你换箱子的机会，你可以把你所选择的箱子换成另一个没有打开的箱子。此时你该不该换箱子？


我们把三个箱子编号A,B,C，并假设你选的是A箱。显然奖品在A里的概率是1/3，在B或C里的概率是2/3。B和C可能有一个是空的，也可能两个都是空的。因此，当你选择了A箱后，主持人很可能会打开B箱或C箱，以显示里面是空的。在这种情况下，主持人的举动并不会影响奖品在A箱里面的机会。我们假设主持人打开了B箱，以告诉你它是空的。现在A箱有奖品的概率还是1/3，B箱里面有奖品的概率是0，因此C箱里面有奖品的概率是2/3。在这种情况下，你应该换到C箱，因为它使你赢的机会提高了1倍！


## 有一对夫妇，先后生了两个孩子，其中一个孩子是女孩，问另一个孩子是男孩的概率是多大？

答案是2/3.两个孩子的性别有以下四种可能：（男男）（男女）（女男）（女女），其中一个是女孩，就排除了（男男），还剩三种情况。其中另一个是男孩的占了两种，2/3.　之所以答案不是1/2是因为女孩到底是第一个生的还是第二个生的是不确定的。


## 一个国家人们只想要男孩，每个家庭都会一直要孩子，只到他们得到一个男孩。如果生的是女孩，他们就会再生一个。如果生了男孩，就不再生了。那么，这个国家里男女比例如何？


一开始想当然的以为男多女少，毕竟都想要男孩。但是注意这句话“如果生了男孩，就不再生了”，一个家庭可能有多个女孩，只有一个男孩。再仔细分析，我们来计算期望值，只用计算一个家庭就行了。设一个家庭男孩个数的期望值为S1，女孩为S2. 

根据题目条件，男孩的个数期望值S1=1这个是不用计算了。主要计算S2

一个家庭的孩子数量可以为:1,2,3,4,5…..  对应的的男女分布为: “男”,”女男”,”女女男”,”女女女男”,”女女女女男”…  

对应的概率分布为 1/2, 1/4, 1/8, 1/16, 1/32 。其中女孩的个数分别为 0,1,2,3,4……

因此 S2=0* 1/2 + 1* 1/4 + 2* 1/8 + 3* 1/16 + 4* 1/32 + ………

可以按照题目2用级数求，也可以用错位相减法：S2=1/4+2/8+3/16+4/32+…  两边乘以2,得: 2*S2=1/2+2/4+3/8+4/16+5/32+..

两个式子相减得 S2=1/2+1/4+1/8+1/16+1/32+…=1. 所以期望值都为1，男女比例是一样的。


## 假设有三枚硬币，两枚正常（一面风景，一面人像），一枚不正常（两面都是人像）。将三枚硬币放入一个黑匣子，随机拿出一枚放在桌上，发现上面是人像。请问下面也是人像的几率有多少？

已知抽硬币，进行抛掷，得到的是正面朝上，那就不可能是抽到两面都是反面的硬币。即可以先求出在抛掷得到正面的情况下，抽到两面都是正面的概率，再求补集。
P(抽到两面都是正｜正面朝上)＝P(抽到两面都是正的硬币∩硬币正面朝上)/P(硬币正面朝上)＝2/3
1－2/3＝1/3


## 某人向南走100公里，向东走100公里，再向北走100公里，最后回到了出发点。请问这样的位置在地球上存在吗？唯一吗？具体是哪些位置？

北极点，不唯一

## x，y都是[0,1]均匀分布的随机变量，请问x+y大于1的概率是多少？

$$\frac{1}{2}$$

## x，y，z都是[0,1]均匀分布的随机变量，请问x+y+z大于1的概率是多少？

$$\frac{3}{4}$$

## x，y，z都是[0,1]均匀分布的随机变量，随机取x,y,z值,求组成三角形概率

$$\frac{1}{2}$$

## 已知N枚真硬币，M枚假硬币（两面都是国徽），R次重复采样都是国徽，问真硬币的概率？

设 $A$ = 任取一枚硬币帮 $r$ 次得 $r$ 个国徽, ,$B=$ 任取一枚硬币是正品
则

$$A=B A+\bar{B} A$$

所求概率为
$$
\begin{aligned}
P(B \mid A) &=\frac{P(B) P(A \mid B)}{P(B) P(A \mid B)+P(\bar{B}) P(A \mid \bar{B})} \\
&=\frac{\frac{m}{m+n}\left(\frac{1}{2}\right)^{r}}{\frac{m}{m+n}\left(\frac{1}{2}\right)^{r}+\frac{n}{m+n}}=\frac{m}{m+n \cdot 2^{r}}
\end{aligned}
$$


## 有种癌症，早期的治愈率为0.8，中期的治愈率为0.5，晚期的治愈率为0.2.若早期没治好就会转为中期，中期没治好就会变成晚期。现在有一个人被诊断为癌症早期，然后被治愈了，问他被误诊为癌症的概率是多少？

p(cur|早) = 0.8

p(cur|中) = 0.2 * 0.5 = 0.1

p(cur|晚) = 0.2 * 0.5 * 0.2 = 0.02


## 有8个箱子，现在有一封信，这封信放在这8个箱子中（任意一个）的概率为4/5,不放的概率为1/5,现在我打开1号箱子发现是空的，求下面7个箱子中含有这封信的概率为？

事件A：放信封事件

事件B：1号为空
$$
p(A|B) = \frac{p(AB)}{p(B)} \\
= \frac{p(B|A)p(A)}{p(B|A)p(A) + p(B|\hat A)p(\hat A)}
$$



## 一个圆，在圆上随机取3个点，这3个点组成锐角三角形的概率

$$\frac{1}{4}$$

## 某大公司有这么一个规定：只要有一个员工过生日，当天所有员工全部放假一天。但在其余时候，所有员工都没有假期，必须正常上班。这个公司需要雇用多少员工，才能让公司一年内所有员工的总工作时间期望值最大？

一个人，对于任意一天，过生日的概率是 1 / 365, 不过生日的概率是 364 / 365
n个人，对于任意一天，没任何人过生日的概率是(364 / 365)^n
n个人，对于任意一天，有人过生日的概率是 1 - (364 / 365)^n
那么365天里有人过生日的期望天数是 365（1 - (364 / 365)^n）天，
则n个人，365天，每个人工作的期望天数是365 - 365（1 - (364 / 365)^n）= 365(364 / 365)^n
从而所有人的期望工作天数的和为：365n(364 / 365)^n，求导数，导数不小于0，递增。
所以是365

## 100张牌，每次只能抽一张，抽过的牌会丢掉，怎么选出最大的牌。


## 36匹马，6条跑道，选出最快3匹，最少赛多少场？

A1 A2 A3 A4 ... A6
B1 B2 B3 B4 ... B6
C1 C2 C3 C4 ... C6
...


第一名肯定是A1，第二名可能是A2，B1，第三名可能是A2， A3，B1， B2， C1

所以吧A2， A3， B1，B2， C1再进行一次比赛即可。

总共6+1+1场
## 有25匹马 ，5个跑道，一次只能比5匹马，得到跑得最快的前3，至少需要比几次？

A1 A2 A3 A4 A5
B1 B2 B3 B4 B5
C1 C2 C3 C4 C5
...


第一名肯定是A1，第二名可能是A2，B1，第三名可能是A2， A3，B1， B2， C1

所以吧A2， A3， B1，B2， C1再进行一次比赛即可。

总共5+1+1场

## 5个海盗抢到了100颗宝石，每一颗都一样的大小和价值连城。他们决定：抽签决定自己的号码（1，2，3，4，5）。首先，由1号提出分配方案（你抽到1号），然后大家5人进行表决，当且仅当超过半数的人同意时，按照他的提案进行分配，否则将被扔入大海喂鲨鱼。 如果1号死后，再由2号提出分配方案，依此类推。条件：每颗宝石都是一样的价值。海盗都想保命，尽量多得宝石，尽量多杀人。问题：你会提出怎样的分配方案才能够使自己的收益最大化？

1. D来分配，一定不会得到E的同意，因为只要E不同意，同意的票数就不会超过50%，然后D喂鲨鱼，E独享100颗，所以D一定不希望自己来分。D分配意味着喂鲨鱼的结局。
2. C来分配，D一定会同意，所以不用分给D和E。因为D如果不同意，E一定不同意，C被喂给鲨鱼，这样又出现第一种情况了。保命要紧，D宁可不要钻石了。故C分配时可以得到全部100颗。
3. B来分配，C不会同意，因为把B喂鲨鱼后回到第二种情况C会独占，所以B必须得到D、E的同意，只要分给D一个，E一个，D和E就会同意，若D和E不同意，则由C分配时一个也得不到。所以B分配时可以得到98颗，D得到一颗，E得到一颗，C0颗。
4. A来进行分配，B一定不会同意，因为不可能给B98颗以上，所以要得到C、D或者C、E的同意，可以给C一个，D两个，让C、E同意；也可以给C一个E两个,来让C、E同意

故最终A的分配结果是
A97 C1 D2
或 A97 C1 E2

## 一个人要过一座80米的桥，每走一米需要吃一颗豆子，他最多可以装60颗豆子，问最少需要吃多少颗豆子才能走完桥？证明一下为什么你给的答案是最少的？桥长81米呢？当桥长n米，最多装m颗的时候结果用公式怎么表示？

先拿60颗，走到20米处，放下20颗，返回。

再拿60颗，走到20米处，消耗20颗，取之前放下的20颗，总共60颗，过桥。

一共消耗80+40 = 120颗

## 一个绳子烧完需要1个小时，假设所有绳子的材质都不一样，也不均匀，怎么取出1小时加 15分钟。

把一根两端点燃，同时把另一根的一端点燃。这样，第一根烧完的时候是过了半个小时。

半个小时后，把第二根的另一端点燃，这样在第二根烧完的时候，就是15分钟了。


有1亿个货物，不能单个单个检测，只能通过两两对比来找出其中的次品，请设计一个算法来找出次品。



## 有3盏灯，房间外有3个开关，你只有1次机会进入房间，怎么判断哪个开关对应哪盏灯？

先开一个灯，记住是那个开关，不要关灯
过五分钟再开第二盏灯。这时进屋，没亮的只有一盏就是那个没动过的开关控制。摸摸那个亮的比较热就是先开的那个开关控制的拉。
或者开第二个开关是关掉第一个开关，进去摸不亮的但是有温度的也可以。

## 给一堆螺母和螺栓，它们可以一一对应，但是现在顺序乱了，只能用螺母和螺栓比较，将它们一一对应起来。

1. 挑选一个螺母a。
2. 用像母a将螺检分成2堆，一堆比其大，一堆比其小。
3. 找出与螺母a配对的螺检b，并用螺检b将螺母分成2堆。
4. 重新选择一个螺母进行以上操作。

## 有排成一行的ｎ个方格，用红(Red)、粉(Pink)、绿(Green)三色涂每个格子，每格涂一色，要求任何相邻的方格不能同色，且首尾两格也不同色．求全部的满足要求的涂法.



递推公式：

A1 = 3

A2 = 6 

A3 = 6

An=2*A(n-2)+A(n-1), n>=4

## 马路上有编号1,2,3...10的十盏路灯，为节约用电而又不影响照明，可以把其中3盏灯关掉，但不可以同时关掉相邻的两盏，在两端的灯都不能关掉的情况下，有()种不同的关灯方法。

用插空法，先假设7盏灯是好的，在7盏灯的6个缝隙中间选3个位置，就能保证三盏灭的灯不相邻了。即$C_{6}^{3}=20$

## x，y服从0-1之间的均匀分布，求z=max(x,y)的数学期望

$$F(z)=p(max(x,y))=p(x)p(y)=z^2$$

$$E(z)=\int_{0}^{1} z \cdot 2 z d z=\frac{2}{3}$$

## 骰子掷出 1-7 的均匀分布

一个骰子掷两次，共36种等概率的结果。令其中的35种对应1-7，剩下的一种对应『再郑两次』。
比如：第一个股子不为6时, 第二个股子郑出几就输出几（1-6，每种有五个可能）。第一个股子为
6, 且第二个股子不为6，输出7（有五个可能）。两个股子都是6，则重掷。
于是1-7的概率都是5/36。而且永远郑6的概率是0，一定会在有限次内得到输出。


## 100个球两个人每次最多取五个最少取一个，谁能拿到最后一个就赢，求第一个取的人的必胜方法.

这种题目是考虑倍数的问题。每次最多取5个最少1个，这样的话就考虑每次取6，

100÷6=16余4。

先拿的人拿4个，不论第二个人拿几个，第一个人把他凑成6个，这样永远是第一个人取到最后一个。